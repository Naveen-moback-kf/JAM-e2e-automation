<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "https://testng.org/testng-1.0.dtd">

<!-- OPTIMIZED FOR PARALLEL EXECUTION WITH CUCUMBER -->
<!-- Key Configuration:
     - parallel="tests": Each <test> (runner) runs on its own dedicated thread
     - thread-count="2": Number of parallel threads (2 runners at a time)
     - verbose="2": Detailed logging for debugging parallel execution
     
     How it works:
     1. TestNG creates separate runner instances for each <test>
     2. Each runner instance has its own TestNGCucumberRunner
     3. Each runner's scenarios execute sequentially on its assigned thread
     4. No scenario mixing between threads
-->
<suite name="Job Mapping - Sanity Test Suite" 
       parallel="tests" 
       thread-count="2" 
       verbose="2">
    
    <listeners> 
        <listener class-name="com.kfonetalentsuite.listeners.ExcelReportListener" />
        <listener class-name="hooks.JobMapping.SuiteHooks" />
    </listeners>
    
    <!-- SANITY TESTS - Critical Path Tests (8 tests) -->
    <!-- Purpose: Verify the application is minimally functional. If these fail, build is broken. -->
    <!-- Estimated Time: 20-25 minutes with 4 parallel threads -->
    
    <!-- 1. Login - Must be able to login -->
    <test name="KFone Login">
        <classes>
            <class name="testrunners.JobMapping.Runner01_KFoneLogin" />
        </classes>
    </test>
    
    <!-- 2. Core job loading functionality -->
    <test name="Validate Add More Jobs Functionality">
        <classes>
            <class name="testrunners.JobMapping.Runner02_ValidateAddMoreJobsFunctionality" />
        </classes>
    </test>
    
    <!-- 3. Basic UI loads correctly -->
    <test name="Verify Job Mapping Page Components">
        <classes>
            <class name="testrunners.JobMapping.Runner04_VerifyJobMappingPageComponents" />
        </classes>
    </test>
    
    <!-- 4. Alternative publish workflow -->
    <test name="Publish Job From Details Popup">
        <classes>
            <class name="testrunners.JobMapping.Runner08_PublishJobFromDetailsPopup" />
        </classes>
    </test>
    
    <!-- 5. Basic filtering works -->
    <test name="Validate Function Subfunction Filters">
        <classes>
            <class name="testrunners.JobMapping.Runner11c_ValidateFunctionSubfunctionFilters" />
        </classes>
    </test>
    
    <!-- 6. PM module accessible -->
    <test name="Validate HCM Sync Profiles Tab in PM">
        <classes>
            <class name="testrunners.JobMapping.Runner22_ValidateHCMSyncProfilesTab_PM" />
        </classes>
    </test>
    
    <!-- 7. Missing Data workflow -->
    <test name="Runner27 - Verify Info Message For Missing Data Profiles">
        <classes>
            <class name="testrunners.JobMapping.Runner27_VerifyInfoMessageForMissingDataProfiles" />
        </classes>
    </test>
    
    <!-- 8. JAM module accessible -->
    <test name="Validate Select And Publish Loaded Profiles in JAM">
        <classes>
            <class name="testrunners.JobMapping.Runner37_ValidateSelectAndPublishLoadedProfiles_JAM" />
        </classes>
    </test>
    
</suite>

